
{% extends "navbar.html" %}
{% load static %}


{% block table %}
<div class="db-rt-outer">
    <div class="db-rt-cont-area">
        <div class="top-panel-wrp">
            <div class="title">EMPLOYEE DETAILS</div>
             <div class="rt-cta-wrp">
                {% comment %} <button class="actn-btns btn">
                    <img src="img/search-icon-top.svg" alt="">
                </button>
                <button class="actn-btns btn">
                    <img src="img/calendar-icon-top.svg" alt="">
                </button> {% endcomment %}
                <button class="radius-long btn" type="button" data-bs-toggle="modal" data-bs-target="#AddEmployee">
                    <span class="icon"><img src="{% static 'img/btn-plus-icon.svg' %}" alt=""></span>
                    <span class="txt">Add Employee</span>
                </button>
             </div>
        </div>
        <div class="common-table-wrp">
            <div class="table-responsive">
                <table class="table common-table-listing">
                    <thead>
                        <tr>
                            {% comment %} <th scope="col" class="client">EMP ID</th> {% endcomment %}
                            <th scope="col" class="title">NAME</th>
                            <th scope="col" class="link">SALARY</th>
                            <th scope="col" class="phone">MOBILE NUMBER</th>
                            <th scope="col" class="mail">EMAIL ID</th>
                            <th scope="col" class="date">POSITION</th>
                            <th scope="col" class="date">JOINED DATE</th>
                            <th scope="col" class="action">ACTION</th>
                          </tr>
                    </thead>
                    <tbody>
                        {% for employee in employees %}
                        <tr>
                            {% comment %} <td>{{employee.id}}</td> {% endcomment %}
                            <td>{{employee.first_name}} {{employee.last_name}}</td>
                            <td>{{employee.salary}}</td>
                            <td>{{employee.ph_no}}</td>
                            <td> {{employee.email}}</td>
                            <td> {{employee.position}}</td>
                            <td>{{ employee.joined_date|date:"Y-m-d H:i:s" }}</td>
                            <td>
                                <div class="action-btns-blk">
                                    <a href="" class="actn-btn-eclipse" data-bs-toggle="modal" data-bs-target='#editEmployee{{employee.id}}'>
                                        <img src="{% static 'img/edit-ico.png' %}" alt="">
                                    </a> 
                                    {% comment %} <a href="" class="actn-btn-eclipse" data-bs-toggle="modal" data-bs-target='#accept{{user.id}}'>
                                        <img src="{% static 'img/accept.png' %}" alt="">
                                    </a> {% endcomment %}
                                    <a  class="actn-btn-eclipse" data-bs-toggle="modal" data-bs-target='#reject{{employee.id}}'>
                                        <img src="{% static 'img/decline.png' %}" alt="">
                                    </a>
                                </div>
                            </td>
                        </tr>


                            <div class="modal modal-small-width fade" id="AddEmployee" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="AddEmployeeLabel" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="AddEmployeeLabel">Add Employee</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                                <img src="{% static 'img/modal-close.svg' %}" alt="Close">
                                            </button>
                                        </div>
                                        <div class="modal-body modal-form">
                                            <form method="POST" >
                                                {% csrf_token %}
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="first_name" class="form-label">First Name</label>
                                                            <input type="text" class="form-control" id="first_name" name="first_name" placeholder="Enter first name" required>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="last_name" class="form-label">Last Name</label>
                                                            <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Enter last name" required>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="email" class="form-label">Email</label>
                                                            <input type="email" class="form-control" id="email" name="email" placeholder="Enter email" required>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="salary" class="form-label">Salary</label>
                                                            <input type="number" class="form-control" id="salary" name="salary" placeholder="Enter salary" required>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="position" class="form-label">Position</label>
                                                            <input type="text" class="form-control" id="position" name="position" placeholder="Enter position" required>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="ph_no" class="form-label">Phone Number</label>
                                                            <input type="text" class="form-control" id="ph_no" name="ph_no" placeholder="Enter phone number" required>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                                    <button type="submit" class="btn btn-primary">Add Employee</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        

                                {% comment %} <div class="modal fade" id="accept{{user.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h5 class="modal-title" id="exampleModalLabel">Accept Student</h5>
                                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                          Do you want to approve {{user.first_name}}?
                                        </div>
                                        <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                          <a type="button" href="{% url 'accept_user' user.id %}" class="btn btn-success">Accept</a>
                                        </div>
                                      </div>
                                    </div>
                                  </div> {% endcomment %}
                        

                                  <div class="modal fade" id="reject{{employee.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h5 class="modal-title" id="exampleModalLabel">Delete Employee</h5>
                                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">></button>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                            Do you want to delete {{employee.first_name}}?
                                        </div>
                                        <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-dismiss="modal"data-bs-dismiss="modal">Close</button>
                                          <a type="button" href="{% url 'delete_employee' employee.id %}" class="btn btn-danger">Delete</a>
                                        </div>
                                      </div>
                                    </div>
                                  </div>


                                  <div class="modal modal-small-width fade" id="editEmployee{{ employee.id }}" tabindex="-1" aria-labelledby="editEmployeeLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="editEmployeeLabel">Edit Employee</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <form method="POST" action="{% url 'update_employee' employee.id %}">
                                                    {% csrf_token %}
                                                    <div class="mb-3">
                                                        <label for="email{{ employee.id }}" class="form-label">Email</label>
                                                        <input type="email" class="form-control" id="email{{ employee.id }}" name="email" value="{{ employee.email }}" required>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="salary{{ employee.id }}" class="form-label">Salary</label>
                                                        <input type="number" class="form-control" id="salary{{ employee.id }}" name="salary" value="{{ employee.salary }}" required>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="position{{ employee.id }}" class="form-label">Position</label>
                                                        <input type="text" class="form-control" id="position{{ employee.id }}" name="position" value="{{ employee.position }}" required>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label for="ph_no{{ employee.id }}" class="form-label">Phone Number</label>
                                                        <input type="text" class="form-control" id="ph_no{{ employee.id }}" name="ph_no" value="{{ employee.ph_no }}" required>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        
                          

                      
                      {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        {% comment %} <div class="pagination-wrp">
            <div class="sort">
                Show
                <select class="page-sort form-select" name="" id="">
                    <option value="">10</option>
                    <option value="">50</option>
                    <option value="">100</option>
                </select>
                Entries
            </div>
            <div class="page-navigate">
                <a href="#" class="arrow-nav prev"><img src="img/pagination-arrow.svg" alt=""></a>
                <a href="#" class="counts active">1</a>
                <a href="#" class="counts">2</a>
                <a href="#" class="counts">3</a>
                <a href="#" class="counts">4</a>
                <a href="#" class="counts">5</a>
                <a href="#" class="arrow-nav next"><img src="img/pagination-arrow.svg" alt=""></a>
            </div>
        </div> {% endcomment %}
    </div>
</div>



{% endblock %}

